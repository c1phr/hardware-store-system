<div class="general-container" *ngIf="!wait_spinner">
    <div class="page-title-container">
        <span class="material-icons-outlined bigger-logo user-reg-logo">
            badge
        </span>
    </div>
    <div class="page-title-container">
        <h1 class="page-title-style">DATOS DEL USUARIO</h1>
    </div>
    <div class="column-container">
        <div class="column-container">
            <div class="form-fields">
                <div class="buttons-container">
                    <button mat-raised-button class="login-button longer-button" (click)="toggleDisable()">
                        {{ toggle_data_action }} EDICIÓN DATOS 
                    </button>
                    <button mat-raised-button class="login-button longer-button" (click)="togglePassChange(to_pass_change)">
                        {{ toggle_pass_action }} CAMBIO CONTRASEÑA  
                    </button>
                </div>

                <form [formGroup]="modifyUserData" class="form-fields">
    
                    <label for="rut_profile" class="title-label">Rut: </label>
                    <input class="select-container" id="rut_profile" type="text" placeholder="11111111-1" required formControlName="rut_profile">
                    <label for="rut_profile" class="form-separator-label"><span class="form-error-field" [ngStyle]="{'visibility': validField('rut_profile') ? 'visible' : 'hidden'}">Rut sin puntos y con guión.</span></label>
    
                    <label for="name" class="title-label">Nombre: </label>
                    <input class="select-container" id="name" type="text" placeholder="Nombre" required formControlName="name">
                    <label for="name" class="form-separator-label"><span class="form-error-field" [ngStyle]="{'visibility': validField('name') ? 'visible' : 'hidden'}">Nombre entre 2 y 25 caractéres.</span></label>
    
                    <label for="surname" class="title-label">Apellido: </label>
                    <input class="select-container" id="surname" type="text" placeholder="Apellido" required formControlName="surname">
                    <label for="surname" class="form-separator-label"><span class="form-error-field" [ngStyle]="{'visibility': validField('surname') ? 'visible' : 'hidden'}">Apellido entre 2 y 25 caractéres.</span></label>
    
                    <label for="email" class="title-label">Correo: </label>
                    <input class="select-container" id="email" type="text" placeholder="correo@correo.cl" required formControlName="email">
                    <label for="email" class="form-separator-label"><span class="form-error-field" [ngStyle]="{'visibility': validField('email') ? 'visible' : 'hidden'}">Ingrese un correo válido.</span></label>
    
                    <label for="city" class="title-label">Ciudad: </label>
                    <input class="select-container" id="city" type="text" placeholder="Ciudad" required formControlName="city">
                    <label for="city" class="form-separator-label"><span class="form-error-field" [ngStyle]="{'visibility': validField('city') ? 'visible' : 'hidden'}">Ciudad entre 2 y 25 caractéres.</span></label>
    
                    <label for="address" class="title-label">Dirección: </label>
                    <input class="select-container" id="address" type="text" placeholder="Dirección" required formControlName="address">
                    <label for="address" class="form-separator-label"><span class="form-error-field" [ngStyle]="{'visibility': validField('address') ? 'visible' : 'hidden'}">Dirección entre 2 y 70 caractéres.</span></label>
    
                    <label for="phone" class="title-label">Teléfono: </label>
                    <div class="input-line">
                        <span class="prefix-space">+56</span>
                        <input class="phone-input" id="phone" type="text" placeholder="9XXXXXXXX" required formControlName="phone">
                    </div>
                    <label for="phone" class="form-separator-label"><span class="form-error-field" [ngStyle]="{'visibility': validField('phone') ? 'visible' : 'hidden'}">Formato +569XXXXXXXX.</span></label>
                </form>

                <div class="buttons-container" style="margin-top: 20px; margin-bottom: 50px;">
                    <button mat-raised-button class="login-button longer-button" (click)="changeDataWarning()" [disabled]="disable_data">
                        ACTUALIZAR DATOS  
                    </button>
                </div>
            </div>
        </div>
        <div #to_pass_change style="height: 0;"></div>
        <div class="column-container" *ngIf="toggle_pass">
            <div class="form-fields">
                <form [formGroup]="modifyPassData" class="form-fields">
                    <span class="password-clue">NOTA: <span [ngStyle]="{'color': validFieldPass('new_password') || validFieldPass('old_password') ? 'red' : 'black'}">Contraseña entre 6 y 15 caractéres. Caractéres especiales permitidos: & # @ % ! $ ^.</span></span>
    
                    <label for="old_password" class="title-label">Contraseña Actual: </label>
                    <input class="select-container" id="old_password" type="password" placeholder="Contraseña" required formControlName="old_password">
                    <label for="old_password" class="form-separator-label"><span class="form-error-field" [ngStyle]="{'visibility': validFieldPass('old_password') ? 'visible' : 'hidden'}">Contraseña entre 6 y 15 caractéres.</span></label>
    
                    <label for="new_password" class="title-label">Nueva Contraseña: </label>
                    <input class="select-container" id="new_password" type="password" placeholder="Contraseña" required formControlName="new_password">
                    <label for="new_password" class="form-separator-label"><span class="form-error-field" [ngStyle]="{'visibility': validPassword(password_retry.value) ? 'visible' : 'hidden'}">Contraseñas deben ser iguales.</span></label>
                    
    
                    <label for="password" class="title-label">Repetir Nueva Contraseña: </label>
                    <input class="select-container" #password_retry type="password" placeholder="Repetir" required >
                    <label for="password" class="form-separator-label"><span class="form-error-field" [ngStyle]="{'visibility': validPassword(password_retry.value) ? 'visible' : 'hidden'}">Contraseñas deben ser iguales.</span></label>
                </form>
            </div>
            <div class="buttons-container" style="margin-bottom: 50px;">
                <button mat-raised-button class="login-button longer-button" (click)="changePassWarning()">
                    CAMBIAR CONTRASEÑA  
                </button>
            </div>
        </div>
    </div>
</div>

<div class="general-container" *ngIf="wait_spinner">
    <div class="wait-spinner-container">
        <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
    </div>
</div>
